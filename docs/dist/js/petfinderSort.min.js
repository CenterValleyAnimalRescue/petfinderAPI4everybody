/** petfinderAPI4everybody v0.4.3, by Chris Ferdinandi | http://github.com/cferdinandi/petfinderAPI4everybody | Licensed under MIT: http://gomakethings.com/mit/ */
!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.petfinderSort=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var e,n,i,r,o,c,u,l={},s=!!document.querySelector&&!!t.addEventListener,d="petfinderSortStates",a={},f={initClass:"js-petfinder-sort",callbackBefore:function(){},callbackAfter:function(){}},g=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(n,t[i],i,t);else for(var r=0,o=t.length;o>r;r++)e.call(n,t[r],r,t)},p=function(t,e){var n={};return g(t,function(e,i){n[i]=t[i]}),g(e,function(t,i){n[i]=e[i]}),n},b=function(t,e){for(var n=e.charAt(0);t&&t!==document;t=t.parentNode)if("."===n){if(t.classList.contains(e.substr(1)))return t}else if("#"===n){if(t.id===e.substr(1))return t}else if("["===n&&t.hasAttribute(e.substr(1,e.length-2)))return t;return!1},v=function(e){if(t.sessionStorage){var n=e.getAttribute("data-petfinder-sort-target");if(e.checked===!1)return a[n]="unchecked",void sessionStorage.setItem(d,JSON.stringify(a));delete a[n],sessionStorage.setItem(d,JSON.stringify(a))}},y=function(e){if(t.sessionStorage){var n=e.getAttribute("data-petfinder-sort-target"),i=JSON.parse(sessionStorage.getItem(d));i&&i[n]&&"unchecked"===i[n]&&(e.checked=!1)}},m=function(){g(r,function(t){y(t)}),g(o,function(t){y(t)}),g(c,function(t){y(t)})},h=function(t,e){return e?(t.style.display="none",void(t.style.visibility="hidden")):(t.style.display="block",void(t.style.visibility="visible"))},S=function(t){var e=document.querySelectorAll(t.getAttribute("data-petfinder-sort-target"));return t.checked===!0?void g(e,function(t){t.checked=!0,v(t)}):void g(e,function(t){t.checked=!1,v(t)})},k=function(){g(i,function(t){return u?void h(t,!0):void h(t)}),g(r,function(t){if(t.checked===!0){var e=document.querySelectorAll(t.getAttribute("data-petfinder-sort-target"));g(e,function(t){h(t)})}}),g(o,function(t){if(t.checked===!1){var e=document.querySelectorAll(t.getAttribute("data-petfinder-sort-target"));g(e,function(t){h(t,!0)})}})},A=function(){g(i,function(t){h(t)}),g(r,function(t){t.checked=!0}),g(o,function(t){t.checked=!0}),g(c,function(t){t.checked=!0})},q=function(t){var e=t.target,n=b(e,"[data-petfinder-sort]");n&&(v(n),"toggle"===n.getAttribute("data-petfinder-sort")&&S(n),k())};return l.destroy=function(){e&&(document.documentElement.classList.remove(e.initClass),A(),document.removeEventListener("click",q,!1),a={},e=null,n=null,i=null,r=null,o=null,c=null,u=null)},l.init=function(t){s&&(l.destroy(),e=p(f,t||{}),i=document.querySelectorAll(".pf-pet"),r=document.querySelectorAll('[data-petfinder-sort="breeds"]'),o=document.querySelectorAll('[data-petfinder-sort="attributes"]'),c=document.querySelectorAll('[data-petfinder-sort="toggle"]'),u=0===r.length?!1:!0,document.documentElement.classList.add(e.initClass),m(),k(),document.addEventListener("click",q,!1))},l});