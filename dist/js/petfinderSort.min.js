/** petfinderAPI4everybody v1.0.0, by Chris Ferdinandi | http://github.com/cferdinandi/petfinderAPI4everybody | Licensed under MIT: http://gomakethings.com/mit/ */
!function(e,t){"function"==typeof define&&define.amd?define(["buoy"],t(e)):"object"==typeof exports?module.exports=t(e,require("buoy")):e.petfinderSort=t(e,e.buoy)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,o,n,r,i,c,u,d={},a=!!document.querySelector&&!!e.addEventListener,f="petfinderSortStates",l={},s={initClass:"js-petfinder-sort",callbackBefore:function(){},callbackAfter:function(){}},y=function(t){if(e.sessionStorage){var o=t.getAttribute("data-petfinder-sort-target");if(t.checked===!1)return l[o]="unchecked",void sessionStorage.setItem(f,JSON.stringify(l));delete l[o],sessionStorage.setItem(f,JSON.stringify(l))}},b=function(t){if(e.sessionStorage){var o=t.getAttribute("data-petfinder-sort-target"),n=JSON.parse(sessionStorage.getItem(f));n&&n[o]&&"unchecked"===n[o]&&(t.checked=!1)}},h=function(){buoy.forEach(r,function(e){b(e)}),buoy.forEach(i,function(e){b(e)}),buoy.forEach(c,function(e){b(e)})},g=function(e,t){return t?(e.style.display="none",void(e.style.visibility="hidden")):(e.style.display="block",void(e.style.visibility="visible"))},m=function(e){var t=document.querySelectorAll(e.getAttribute("data-petfinder-sort-target"));return e.checked===!0?void buoy.forEach(t,function(e){e.checked=!0,y(e)}):void buoy.forEach(t,function(e){e.checked=!1,y(e)})},p=function(){buoy.forEach(n,function(e){return u?void g(e,!0):void g(e)}),buoy.forEach(r,function(e){if(e.checked===!0){var t=document.querySelectorAll(e.getAttribute("data-petfinder-sort-target"));buoy.forEach(t,function(e){g(e)})}}),buoy.forEach(i,function(e){if(e.checked===!1){var t=document.querySelectorAll(e.getAttribute("data-petfinder-sort-target"));buoy.forEach(t,function(e){g(e,!0)})}})},v=function(){buoy.forEach(n,function(e){g(e)}),buoy.forEach(r,function(e){e.checked=!0}),buoy.forEach(i,function(e){e.checked=!0}),buoy.forEach(c,function(e){e.checked=!0})},E=function(e){var t=e.target,o=buoy.getClosest(t,"[data-petfinder-sort]");o&&(y(o),"toggle"===o.getAttribute("data-petfinder-sort")&&m(o),p())};return d.destroy=function(){t&&(document.documentElement.classList.remove(t.initClass),v(),document.removeEventListener("click",E,!1),l={},t=null,o=null,n=null,r=null,i=null,c=null,u=null)},d.init=function(e){a&&(d.destroy(),t=buoy.extend(s,e||{}),n=document.querySelectorAll(".pf-pet"),r=document.querySelectorAll('[data-petfinder-sort="breeds"]'),i=document.querySelectorAll('[data-petfinder-sort="attributes"]'),c=document.querySelectorAll('[data-petfinder-sort="toggle"]'),u=0===r.length?!1:!0,document.documentElement.classList.add(t.initClass),h(),p(),document.addEventListener("click",E,!1))},d});